# システム設計の面接試験 9章~16章

### 概要
大規模なサービスのシステム設計を具体例をもとに色々紹介している

### メモ
- 9章 webクローラ
  - 同一ページへの過度なリクエストを防ぐために、URLのセレクタを二段階にしているのが面白い
- 10章 通知システム
  - APN(iOS)やFCM(Android)というプッシュ通知用のサービスが存在する
  - 通知は最悪複数回送られてもよいが、送られないのはマズいので永続化する必要がある 
- 11章 ニュースフィードシステム
  - プッシュ型のFanoutとプル型のFanoutがあり、前者のほうが高速だが計算資源を要する
- 12章 チャットシステム 
  - チャットの部分はWebSocketを使うのがスタンダード
  - チャットの永続化にはキーバリューストアで十分
  - zookeeperはサービスディスカバリで、例えばチャットに適したサーバを選択する
- 13章 検索オートコンプリート
  - 高速な応答が必須で、トライデータ構造を用いると高速化が図れる
  - トライデータ構造の更新のタイミングは難しい問題（頻度を高めるとパフォーマンスが落ちるが、低くするとトレンドを捕捉しにくくなる）
- 14章 YouTube
  - ローカルのCDNからのストリーミング配信をする
  - パフォーマンスが問題になるので、動画のトランスコーディングや配信の工夫が重要になる
    - トランスコーディングのDAGを用いての並列化
    - 動画の分割
    - 動画のアクセス数はロングテール分布になる
- 15章 Googleドライブ
  - ネットワーク帯域幅の圧縮や、データ容量の枯渇が主問題になる
    - デルタ同期や圧縮技術を用いる
    - データの圧縮は時間がかかるので、ブロックサーバ群を用意する
